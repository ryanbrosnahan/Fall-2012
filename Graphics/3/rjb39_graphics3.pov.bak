                                          
global_settings
{
        assumed_gamma 2.2
        
        // Add a generic ambient light
        ambient_light rgb<1, 1, 1> 
        
}

// Add the camera pointing down into the room
camera
{
        location  <0,  10,  -50>
        look_at   <0,  4,  0>
}

// Create a glass texture
#declare Glass =
material 
{
        texture 
        {
                pigment
                {
                        rgbt 1
                }
                finish 
                {
                        ambient 0.0
                        diffuse 0.5
                        specular 0.6
                        roughness 0.005
                        reflection 
                        {
                                0.1, 1.0
                                fresnel on
                        }
                        conserve_energy
                }
        }
        
        interior 
        {
                ior 1.5
                fade_power 30
                fade_distance 0.9
                fade_color <0.5,0.6,0.6>
        }
}

// Setup our basic box for the scene
union
{
        #declare checkered =
        texture
        {
                pigment
                {
                        checker
                        color rgb <1.0, 1.0, 1.0>
                        color rgb <0.0, 0.0, 0.0>
                        scale 1
                }
        
        }

        plane { x, -20 texture { checkered rotate y * 90 }    } // left wall
        plane { x, 20  texture { checkered rotate y * 90 }    } // right wall
        plane { z, 20  texture { checkered }                  } // back wall
        plane { y, 0   texture { checkered } translate -y * 5 } // floor    
        plane { y, 0   texture { checkered } translate y * 20 } // floor         
        
        // Create the hollow ceiling dome
        sphere
        {
                <0, 20, 0>, 5
                material { Glass }
                hollow
        }
        
        cylinder {
                <0, -20, 0>,
                <0, 19, 0>,
                1
                open
                material { Glass }
        }
        
        

}

// Setup some awesome crazy spotlights
light_source
{
        <0, 16, 0>
        color Red
        spotlight
        radius 25
        falloff 25
        tightness 10
        point_at <sin(clock * 2) * 3, sin(clock * 3) * 2, cos(clock * 7) * 10>
}


light_source
{
        <0, 16, 0>
        color Green
        spotlight
        radius 15
        falloff 20
        tightness 10
        point_at <sin(clock * 5) * 3, cos(clock * 5) * 2, sin(clock * 5) * 10>
}

light_source
{
        <0, 16, 0>
        color Blue
        spotlight
        radius 20
        falloff 1
        tightness 10
        point_at <1, sin(clock * 7) * 3, sin(clock * 3) * 3>
}

// Setup our moving glass sphere
sphere {
        <-sin(clock * 20) * 15, 0, -sin(clock * 15) * 10>, 5
        
        material { Glass }
        
        photons
        {
                target 1.0
                refraction on
                reflection on
        }
}

torus
{
        0, 6              // major and minor radius
        rotate -90*x      // so we can see it from the top
        material { Glass }
}

// Setup a point light for better illumination of the scene
light_source
{
        <0, 15, 0>
        color rgb <0.6, 0.6, 0.6>
}